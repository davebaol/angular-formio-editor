<h1 class="text-center mb-4">Angular Form.io Editor</h1>
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" (click)="activeTab='builder'"
       id="builder-tab" data-toggle="tab" href="#builder" role="tab" aria-controls="builder" aria-selected="true">
      Builder
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" (click)="activeTab='json'"
      id="json-editor-tab" data-toggle="tab" href="#json-editor" role="tab" aria-controls="json-editor" 
      aria-selected="false">
      Json
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" (click)="activeTab='renderer'"
        id="renderer-tab" data-toggle="tab" href="#renderer" role="tab" aria-controls="renderer" aria-selected="false">
      Renderer
    </a>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="builder" role="tabpanel" aria-labelledby="builder-tab">
    <div class="m-2">
      <label class="mx-2" for="form-select">Display as: </label>
      <select class="form-control my-2" id="form-select"
              [(ngModel)]="form.display" style="display: inline-block; width: 150px;" (change)="onBuilderDiplayChange($event)">
        <option value="form">Form</option>
        <option value="wizard">Wizard</option>
      </select>
      <form-builder [form]="form" [refresh]="refreshBuilder$" (change)="onBuilderChange($event)"></form-builder>
    </div>
  </div>
  <div class="tab-pane fade" id="json-editor" role="tabpanel" aria-labelledby="json-editor-tab">
    <div class="m-2 well">
      <div *ngIf="jsonEditorChanged" class="m-2">
        <button type="button" class="btn btn-success mr-4" (click)="jsonEditorApplyChanges()">Apply</button>
        <button type="button" class="btn btn-secondary" (click)="jsonEditorDiscardChanges()">Discard</button>
      </div>
      <json-editor #jsoneditor [options]="jsonEditorOptions" (change)="onJsonEditorChange($event)"></json-editor>
      <div *ngIf="jsonEditorChanged" class="m-2">
        <button type="button" class="btn btn-success mr-4" (click)="jsonEditorApplyChanges()">Apply</button>
        <button type="button" class="btn btn-secondary" (click)="jsonEditorDiscardChanges()">Discard</button>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="renderer" role="tabpanel" aria-labelledby="renderer-tab">
    <div class="m-2">
      <formio *ngIf="activeTab=='renderer'" [form]="form" [refresh]="rendererTriggerRefresh"></formio>
    </div>
  </div>

